<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>M√©todo da Bisse√ß√£o e Teorema de Bolzano</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    label { display: block; margin-top: 10px; }
    input { margin-top: 5px; padding: 5px; width: 200px; }
    button { margin-top: 15px; padding: 8px 12px; }
    pre { background: #f4f4f4; padding: 10px; border-radius: 5px; margin-top: 20px; }
  </style>
</head>
<body>
  <h2>M√©todo da Bisse√ß√£o e Teorema de Bolzano</h2>

  <label>Grau do Polin√¥mio:</label>
  <input type="number" id="grau" value="3">

  <label>Coeficientes (separe por v√≠rgula, do termo constante at√© o maior grau):</label>
  <input type="text" id="coeficientes" value="3,-9,0,1">
  <small>Exemplo: para x¬≥ - 9x + 3 ‚Üí digite <b>3,-9,0,1</b></small>

  <label>Erro (Œµ):</label>
  <input type="number" step="0.0001" id="erro" value="0.0001">

  <label>In√≠cio do intervalo (a):</label>
  <input type="number" id="a" value="-5">

  <label>Fim do intervalo (b):</label>
  <input type="number" id="b" value="5">

  <button onclick="calcular()">Rodar</button>

  <pre id="saida"></pre>

  <script>
    function calcular() {
      const grau = parseInt(document.getElementById("grau").value);
      const coefInput = document.getElementById("coeficientes").value;
      const coeficientes = coefInput.split(",").map(Number);

      const erro = parseFloat(document.getElementById("erro").value);
      const a = parseFloat(document.getElementById("a").value);
      const b = parseFloat(document.getElementById("b").value);

      let saida = "";

      // Fun√ß√£o polinomial
      function f(x) {
        let resultado = 0;
        for (let i = 0; i <= grau; i++) {
          resultado += coeficientes[i] * Math.pow(x, i);
        }
        return resultado;
      }

      // M√©todo da Bisse√ß√£o
      function bisseccao(a, b) {
        if (f(a) * f(b) >= 0) {
          saida += `‚ö†Ô∏è Intervalo inv√°lido: f(${a}) e f(${b}) n√£o t√™m sinais opostos.\n\n`;
        } else {
          let m, iteracao = 0;

          saida += `‚úÖ Intervalo v√°lido: [${a}, ${b}]\n`;

          while ((b - a) / 2 > erro) {
            m = (a + b) / 2;
            iteracao++;
            saida += `Itera√ß√£o ${iteracao}: a=${a}, b=${b}, m=${m}, f(m)=${f(m)}\n`;

            if (f(m) === 0) break;

            if (f(a) * f(m) < 0) {
              b = m;
            } else {
              a = m;
            }
          }
          saida += `üëâ Raiz aproximada: ${(a + b) / 2} (com Œµ=${erro})\n\n`;
        }
      }

      // Procurar intervalos com mudan√ßa de sinal
      let limites = [];
      for (let i = Math.floor(a); i < Math.ceil(b); i++) {
        if (f(i) * f(i + 1) < 0) {
          limites.push([i, i + 1]);
        }
      }

      if (limites.length === 0) {
        saida += "‚ö†Ô∏è Nenhuma raiz detectada no intervalo dado.\n";
      } else {
        limites.forEach(intervalo => {
          saida += `\nüîé Intervalo encontrado: [${intervalo[0]}, ${intervalo[1]}]\n`;
          bisseccao(intervalo[0], intervalo[1]);
        });
      }

      document.getElementById("saida").textContent = saida;
    }
  </script>
</body>
</html>
